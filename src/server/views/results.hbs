<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Results | Boolean Retrieval</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
    crossorigin="anonymous"></script>
  <style>
    * {
      font-family: Inter;
    }

    pre,
    code {
      font-family: 'DM Mono';
      color: #d63384;
      line-height: 140%;
    }
  </style>
</head>

<body>
  <header class="pb-2 pt-4 px-3 d-flex align-items-center">
    <a href="/" style="text-decoration: none; color: black;">
      <h2 class="m-0">Boolean Retrieval</h2>
    </a>
    <form action="/query" method="post" class="mx-3 d-flex align-items-center">
      <input value="{{query}}" type="text" name="query" class="form-control me-2" id="search-bar"
        placeholder="Boolean query here..." style="min-width: 40vw;" required />
      <button type="submit" class="btn btn-primary">Search</button>
    </form>
    <p style="margin-left: auto; margin-bottom: 0;">View query reference <a href="/help" target="_blank"
        rel="noopener noreferrer">here</a></p>
  </header>
  <hr>
  <main class="py-2 px-3">
    <h5>Search Results</h5>
    <ul class="mt-3" style="list-style-type: none;">
      {{#each list}}
      <li class="mb-3">
        <a href="{{this.link}}" class="link-primary" target="_blank">Document {{this.id}}</a>
      </li>
      {{/each}}
    </ul>
  </main>
  <div class="py-2 px-3">
    <div>
      <span class="me-2">View the parsed query i.e. Abstract Syntax Tree (AST)</span>
      <button class="btn btn-outline-primary" type="button" data-bs-toggle="collapse" data-bs-target="#collapse"
        aria-expanded="false" aria-controls="collapse">Toggle View AST</button>
    </div>

    <div class="collapse mt-3" id="collapse">
      <pre class="card card-body">
        <code>
          {{ast}}
        </code>
      </pre>
    </div>
  </div>

</body>

</html>